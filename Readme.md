# Технологии разработки програмного обеспечения
### Лабораторная работа №1: создание микросервиса на Spring Boot с базой данных
### Садыев Юрий. МБД 2131
### Целью лабораторной работы является знакомство с проектированием многослойной архитектуры Web-API (веб-приложений, микро-сервисов).
## Для запуска необходимо:

- Склонировать репозиторий
```
git clone https://github.com/auditoriumus/lab1.git
```
- Запустить локально СУБД PostgreSQL
- В файле ./src/main/resources/application.properties внести необходимые изменения для подключения к бд (spring.datasource.username, spring.datasource.password)
- Пересобрать проект Ctrl+Shift+F9 (CMD+F9)
- Собрать/пересобрать пакеты Maven можно перейдя во вкладку Maven и запустив package
  ![alt пример](https://www.itbase.ru/1.png)
- Находясь в дирректории ./ с файлом Dockerfile собрать докер-образ командой:
```
docker build . -t application_name
```
где после -t указать наименование приложения в формате "имя:тэг"
- Запустить докер-образ командой:
```
docker run -p 8080:8080 application_name
```
в случае если на локальной машине порт 8080 занят, заменить первое значение 8080 на любой свободный. В случае если приложение внутри докер-контейнера работает на отличном от 8080 порту, заменить второе значение 8080 на необходимое

## Краткая документация к API:

Получение всех продуктов:
> GET http://localhost:8080/api/v1/products

Получение продукта по id:
> GET http://localhost:8080/api/v1/products/1

Добавление продукта:
> POST http://localhost:8080/api/v1/products
```
{
  "name": "Молоко",
  "brand": "Домик в деревне",
  "price": 41,
  "quantity": 10
}
```

| Поле (* обязательное) | Тип | Комментарий |
|-----------------------| ------ | ------ |
| name                  | string | Тип продукта |
| brand                 | string | Имя брэнда |
| price*                | int | Цена |
| quantity*             | int | Количество |

Удаление продукта по id:
> DELETE http://localhost:8080/api/v1/products/1

Вернуть hostname:
> GET http://localhost:8080/api/v1/status

